<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ML Model Explainability</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header>
    <h1>ML Model Explainability</h1>
  </header>
  <div class="container">
    <div class="panel">
      <h2>Datasets</h2>
      <input type="file" id="csvFile" accept=".csv" />
      <button id="uploadBtn">Upload CSV</button>
      <div id="uploadOut" class="output">Select a CSV file...</div>
      <ul id="datasetsList"></ul>
    </div>

    <div class="panel">
      <h2>Train Model</h2>
      <label>Dataset</label>
      <select id="datasetSelect">
        <option value="sample">Sample Data</option>
      </select>
      <label>Model Type</label>
      <select id="modelType">
        <option value="logistic">Logistic Regression</option>
        <option value="random_forest">Random Forest</option>
        <option value="kmeans">K-Means Clustering</option>
      </select>
      <label>Target Column</label>
      <select id="targetColumn" disabled>
        <option value="">Select target</option>
      </select>
      <button id="trainBtn">Train</button>
      <div id="trainOut" class="output">Ready to train...</div>
    </div>

    <div class="panel">
      <h2>Models</h2>
      <ul id="modelsList"></ul>
    </div>

    <div class="panel">
      <h2>Predict</h2>
      <label>Model ID</label>
      <input id="modelId" placeholder="Select a model" />
      <label>Payload (JSON)</label>
      <textarea id="payload" rows="5">{"feature1": 1.2, "feature2": 0.3, "feature3": 5.1}</textarea>
      <button id="predictBtn">Predict</button>
      <div id="predictOut" class="output">Waiting...</div>
    </div>

    <div class="panel">
      <h2>Explainability</h2>
      <label>Model ID</label>
      <input id="explainModelId" placeholder="Select a model" />
      <button id="globalExplainBtn">Generate Global Explanation</button>
      <div id="globalExplainOut" class="output"></div>
      <label>Row Index</label>
      <input id="explainRowIndex" type="number" value="0" />
      <button id="localExplainBtn">Generate Local Explanation</button>
      <div id="localExplainOut" class="output"></div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
